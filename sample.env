# ============================================================================
# XOA NixOS Configuration - Environment Variables
# ============================================================================
# Copy this file to .env and configure your settings
# The .env file is automatically ignored by git and contains all personal info
# ============================================================================

# ============================================================================
# SYSTEM SETTINGS
# ============================================================================

# System architecture (typically x86_64-linux)
SYSTEM=x86_64-linux

# Hostname for this NixOS system
HOSTNAME=xoa

# Admin username for SSH access (will have full sudo rights)
USERNAME=xoa

# Time zone (e.g., UTC, America/New_York, Europe/London, Asia/Tokyo)
TIMEZONE=UTC

# ============================================================================
# SSH CONFIGURATION
# ============================================================================

# SSH public keys for admin user (one per line, SSH_KEY_1, SSH_KEY_2, etc.)
# Generate with: ssh-keygen -t ed25519 -C "your-email@example.com"
# Leave empty or comment out if you don't have any keys yet
# SSH_KEY_1=ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAI... user@host
# SSH_KEY_2=ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQ... user2@host2

# ============================================================================
# XEN ORCHESTRA WEB INTERFACE
# ============================================================================

# Network binding (0.0.0.0 = all interfaces, 127.0.0.1 = localhost only)
XO_HOST=0.0.0.0

# Web interface ports
XO_PORT=80
XO_HTTPS_PORT=443

# TLS/SSL Configuration
TLS_ENABLE=true
TLS_REDIRECT_TO_HTTPS=true
TLS_DIR=/etc/ssl/xo
TLS_CERT=/etc/ssl/xo/certificate.pem
TLS_KEY=/etc/ssl/xo/key.pem

# Enable Xen Orchestra v6 preview (accessible at /v6)
ENABLE_V6_PREVIEW=false

# ============================================================================
# FIREWALL PORTS
# ============================================================================

# Comma-separated list of TCP ports to allow through firewall
# Default: 80 (HTTP), 443 (HTTPS), 3389 (RDP), 5900 (VNC), 8012 (XO service)
FIREWALL_TCP_PORTS=80,443,3389,5900,8012

# ============================================================================
# STORAGE & MOUNTING
# ============================================================================

# Enable NFS remote storage support
STORAGE_NFS_ENABLE=true

# Enable CIFS/SMB remote storage support
STORAGE_CIFS_ENABLE=true

# Directory where remote storage will be mounted
STORAGE_MOUNTS_DIR=/var/lib/xo/mounts

# ============================================================================
# TERMINAL ENHANCEMENTS
# ============================================================================

# Enhanced terminal experience (zsh, oh-my-posh, fzf, etc.)
EXTRAS_ENABLE=false

# ============================================================================
# AUTOMATED UPDATES
# ============================================================================

# Location of this flake repository (supports ~ for home directory)
UPDATES_REPO_DIR=~/nixoa

# ============================================================================
# UPDATE NOTIFICATIONS
# ============================================================================

# Notify on successful updates (not just failures)
UPDATES_NOTIFY_ON_SUCCESS=false

# Email Notifications
UPDATES_EMAIL_ENABLE=false
UPDATES_EMAIL_TO=admin@example.com

# ntfy.sh Push Notifications
UPDATES_NTFY_ENABLE=false
UPDATES_NTFY_SERVER=https://ntfy.sh
UPDATES_NTFY_TOPIC=xoa-updates

# Webhook Notifications
UPDATES_WEBHOOK_ENABLE=false
UPDATES_WEBHOOK_URL=

# ============================================================================
# GARBAGE COLLECTION
# ============================================================================

UPDATES_GC_ENABLE=false
UPDATES_GC_SCHEDULE=Sun 04:00
UPDATES_GC_KEEP_GENERATIONS=7

# ============================================================================
# FLAKE SELF-UPDATE (pull from git)
# ============================================================================

UPDATES_FLAKE_ENABLE=false
UPDATES_FLAKE_SCHEDULE=Sun 04:00
UPDATES_FLAKE_REMOTE_URL=https://codeberg.org/dalemorgan/declarative-xoa-ce.git
UPDATES_FLAKE_BRANCH=main
UPDATES_FLAKE_AUTO_REBUILD=false

# ============================================================================
# NIXOS UPDATES
# ============================================================================

UPDATES_NIXPKGS_ENABLE=false
UPDATES_NIXPKGS_SCHEDULE=Mon 04:00
UPDATES_NIXPKGS_KEEP_GENERATIONS=7

# ============================================================================
# XEN ORCHESTRA UPDATES
# ============================================================================

UPDATES_XOA_ENABLE=false
UPDATES_XOA_SCHEDULE=Tue 04:00
UPDATES_XOA_KEEP_GENERATIONS=7

# ============================================================================
# LIBVHDI UPDATES
# ============================================================================

UPDATES_LIBVHDI_ENABLE=false
UPDATES_LIBVHDI_SCHEDULE=Wed 04:00
UPDATES_LIBVHDI_KEEP_GENERATIONS=7

# ============================================================================
# SERVICE ACCOUNT SETTINGS
# ============================================================================

# XO service account (non-root, system user) - rarely needs changing
XO_USER=xo
XO_GROUP=xo

# ============================================================================
# NIXOS STATE VERSION - DO NOT CHANGE
# ============================================================================
# This should match the NixOS version you initially installed with.
STATE_VERSION=25.05
